ifndef HFOS_DIR
    $(error HFOS_DIR is undefined. Please the path to Hellfire OS.)
endif

# CPU_FAMILY is arm, or mips, or riscv
ifndef CPU_FAMILY
    $(error CPU_FAMILY is undefined. Please select a supported CPU family in $(HFOS)/arch/)
endif

# CPU_DESIGN depends on the selected CPU_FAMILY. For instance, for mips there is support to hf-risc, pic32mz, and plasma
ifndef CPU_DESIGN
    $(error CPU_DESIGN is undefined. Please select a CPU design (in $(HFOS)/arch/$(CPU_FAMILY)) supported by the CPU family $(CPU_FAMILY))
endif

# name of the the driver and the files generated by the compiler
PROJECT_NAME = device

# place here ONLY flags related to this specific driver. No hardware or OS related flags should be included here !!!!
ASFLAGS  += 
#enables a base set of warnings generally agreed upon as being useful
CFLAGS   += -Wall
#enables an additional set of flags not covered by -Wall
CFLAGS   += -Wextra
#causes all enabled warnings to cause compilation errors.
CFLAGS   += -Werror
CXXFLAGS += 
LDFLAGS  += 
LDLIBS   += 
# insert here the driver's specific defines
DDEFS    +=

# list here all dirs with required include files
INC_DIRS += ./include

# list here all dirs with required static libs 
LIB_DIRS += 

# list here all source files in C
C_SRCS   += ./*.c

# list here all source files in ASM
ASM_SRCS += 

# list here all source files in C++
CPP_SRCS += 

# it is possible to define wildcards to C_SRCS, ASM_SRCS, CPP_SRCS
#C_SRCS += ./my_lovely_dir/*.c

# compile the platform, i.e. the hardware dependent software. It also defines the toolchain 
cd $(HFOS_DIR)/platform/$(PLATFORM) && make all

# the main rules
include $(HFOS_DIR)/Makefile.rules