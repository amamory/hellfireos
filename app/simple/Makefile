#######################################################
# This is an example of  makefile for an application
#######################################################

ifndef HFOS_DIR
    $(error HFOS_DIR is undefined. Please the path to Hellfire OS.)
endif

# name of the the application and the files generated by the compiler
# use overrride, otherwise it will get the PROJECT_NAME from the main makefile
override PROJECT_NAME = main
# add to the list of libs to be linked later
#export  STATIC_LIBS += $(PROJECT_NAME)

# place here ONLY flags related to this specific application. No hardware or OS related flags should be included here !!!!
ASFLAGS  += 
#enables a base set of warnings generally agreed upon as being useful
CFLAGS   += -Wall
#enables an additional set of flags not covered by -Wall
CFLAGS   += -Wextra
#causes all enabled warnings to cause compilation errors.
CFLAGS   += -Werror
CXXFLAGS += 
LDFLAGS  +=
LDLIBS   += 
# insert here the apps's specific defines
DDEFS    += MAX_TASKS=$(MAX_TASKS) HEAP_SIZE=$(HEAP_SIZE)

# list here all dirs with required include files
INC_DIRS += .
# HFOS include
INC_DIRS += $(HFOS_DIR)/sys/include
# libc include
INC_DIRS += $(HFOS_DIR)/lib/include
INC_DIRS += $(HFOS_DIR)/lib/misc/include
INC_DIRS += $(HFOS_DIR)/arch/$(CPU_FAMILY)/$(CPU_DESIGN)/include

# list here all dirs with required static libs 
LIB_DIRS += 

# list here all source files in C
C_SRCS   += ./*.c

# list here all source files in ASM
ASM_SRCS += 

# list here all source files in C++
CPP_SRCS += 

# it is possible to define wildcards to C_SRCS, ASM_SRCS, CPP_SRCS
#C_SRCS += ./my_lovely_dir/*.c


# include the modules/drivers requested by the platform
#$(foreach module,$(FEATURES_PROVIDED),$(eval include $(HFOS_DIR)/driver/$(module).mk))
#$(info $$FEATURES_PROVIDED is [${FEATURES_PROVIDED}])


# jump to the makefile rules
include $(HFOS_DIR)/Makefile.mk